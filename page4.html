<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Shiyuan Zhou" />


<title>Result Section</title>

<script src="site_libs/header-attrs-2.13/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">JSC370 Final Project-Shiyuan Zhou</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
    Main
  </a>
</li>
<li>
  <a href="page1.html">
    <span class="fa fa-database fa-lg"></span>
     
    Data
  </a>
</li>
<li>
  <a href="page2.html">
    <span class="fa fa-bar-chart fa-lg"></span>
     
    Visualizations
  </a>
</li>
<li>
  <a href="page3.html">
    <span class="fa fa-rocket fa-lg"></span>
     
    Models
  </a>
</li>
<li>
  <a href="page4.html">
    <span class="fa fa-th-list fa-lg"></span>
     
    Results
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ZhouEEEEEE/JSC370-Final-Project/tree/main">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/shiyuan-zhou-064540212/">
    <span class="fa fa-linkedin-square"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/ZhouEEEEEE/JSC370-Final-Project/raw/main/FP%20rmd%20file%20and%20pdf/370-Final-Project.pdf">
    <span class="fa fa-file-pdf-o"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Result Section</h1>
<h4 class="author">Shiyuan Zhou</h4>

</div>


<p><br> <br></p>
<div id="conclusion-and-summary" class="section level1">
<h1>Conclusion and Summary</h1>
<p><br></p>
<div id="comparing-all-spline-models" class="section level2">
<h2>Comparing all spline models</h2>
<table>
<caption>Comparing all R squared of all spline models</caption>
<colgroup>
<col width="87%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">models</th>
<th align="right">R_square</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">total expenditure as smooth terms</td>
<td align="right">0.0379077</td>
</tr>
<tr class="even">
<td align="left">income composition of resources as smooth terms</td>
<td align="right">0.7903460</td>
</tr>
<tr class="odd">
<td align="left">total expenditure as smooth terms adjusted by status</td>
<td align="right">0.2422911</td>
</tr>
<tr class="even">
<td align="left">income composition of resources as smooth terms adjusted by status</td>
<td align="right">0.7903013</td>
</tr>
</tbody>
</table>
<p>The model of income composition of resources as smooth terms (M6) has the highest R squared value, which is 0.790346.</p>
<p><img src="spline.png" width="80%" /></p>
<p>Looking at the spline model we have, the trend is not curvy, which indicate that a liner model may be preferred to reduce over-fitting.</p>
<p><br></p>
<p><br></p>
</div>
<div id="comparing-all-linear-models" class="section level2">
<h2>Comparing all linear models</h2>
<table>
<caption>Comparing all R squared of all linear models</caption>
<thead>
<tr class="header">
<th align="left">models</th>
<th align="right">R_square</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">total expenditure as predictor</td>
<td align="right">0.0326109</td>
</tr>
<tr class="even">
<td align="left">income composition of resources as predictor</td>
<td align="right">0.7892844</td>
</tr>
<tr class="odd">
<td align="left">total expenditure and status as predictor</td>
<td align="right">0.2336129</td>
</tr>
<tr class="even">
<td align="left">income composition of resources and status as predictor</td>
<td align="right">0.7894635</td>
</tr>
</tbody>
</table>
<div class="figure">
<img src="assumptions.png" alt="Checking Assumptions" width="100%" />
<p class="caption">
Checking Assumptions
</p>
</div>
<p>According to the all R squared value we have for all linear models, the one with income composition of resources and status as predictor (M8) have the highest R squared. Residual vs fitted plot, QQ plot, scale-location plot, and leverage plot were checked for linear model assumptions. Only the QQ plot shown a deviation exist on the left tail, which means normality is slightly violated. Other assumptions are satisfied. Hence, we do have a good fit since assumptions are mostly satisfied.</p>
<p><br></p>
<p><br></p>
</div>
<div id="comparing-all-linear-mixed-models" class="section level2">
<h2>Comparing all linear mixed models</h2>
<p>To compare all of the linear mixed models we have, we need to compare them by likelihood ratio test (lrtest()). We compare two model with different complexity by the p-value we have in the test. If the p-value is smaller than our significant level 0.05, we are able to reject null hypothesis that simpler model have similar prediction accuracy as more complex model, which means picking complex model is more statistically significant. Hence, by our model construction, the complex model in each pair of test is the model that include developing status variable. Then, we compare (M3, M9) and (M4, M10).</p>
<table>
<caption>Linear mixed model comparisons</caption>
<thead>
<tr class="header">
<th align="left">lrtest</th>
<th align="right">P_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Likelihhod ratio test between M3 and M9 (Total Expenditure)</td>
<td align="right">0.000000</td>
</tr>
<tr class="even">
<td align="left">Likelihhod ratio test between M4 and M10 (HDI)</td>
<td align="right">0.238603</td>
</tr>
</tbody>
</table>
<p>According to the p-value we have, only adding variable status to total expenditure model has a significant improvement. Hence, M9 and M4 would be compared by AIC with final linear and spline models. They cannot be compared by likelihood ratio test again since they does not sharing same predictors.</p>
<p><br> <br></p>
</div>
<div id="comparing-picked-linear-model-picked-spline-model-and-picked-linear-mixed-models" class="section level2">
<h2>Comparing picked linear model, picked spline model, and picked linear mixed models</h2>
<table>
<caption>Comparing R square for picked linear model and picked spline model</caption>
<thead>
<tr class="header">
<th align="left">models</th>
<th align="right">R_square</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">linear model</td>
<td align="right">0.7894635</td>
</tr>
<tr class="even">
<td align="left">spline model</td>
<td align="right">0.7903460</td>
</tr>
</tbody>
</table>
<table>
<caption>Comparing AIC for all Regression model</caption>
<thead>
<tr class="header">
<th align="left">Statistics</th>
<th align="right">AIC.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">AIC of picked linear model M8:</td>
<td align="right">15172.54</td>
</tr>
<tr class="even">
<td align="left">AIC of picked spline model M6:</td>
<td align="right">15159.38</td>
</tr>
<tr class="odd">
<td align="left">AIC of picked linear mixed model: M4</td>
<td align="right">15177.39</td>
</tr>
<tr class="even">
<td align="left">AIC of picked linear mixed model: M9</td>
<td align="right">18542.02</td>
</tr>
</tbody>
</table>
<p>According to the table we have, the R squared value for both models are pretty close. Though spline model yields better fit based on the score, a linear model may be better choice since the spline model we plotted is very close to a linear line. Choosing a linear model with almost the same wellness of fitting could reduce over-fitting.</p>
<p>By comparing AIC in Table, though spline model also has the smallest AIC value, most of them have very close AIC. Both our linear mixed model have higher AIC values. Since the linear model is our next-best model and we would like to reduce over-fitting, the linear model with Income composition of resources and status as predictor as predictors is our best model in this section, which means income composition of resources (HDI) has stronger relationship with life expectancy than health expenditure.</p>
<p><br> <br></p>
</div>
<div id="comparing-machine-learning-models-by-mse" class="section level2">
<h2>Comparing machine learning models by MSE</h2>
<table>
<caption>Comparing MSE of all models</caption>
<thead>
<tr class="header">
<th align="left">models</th>
<th align="right">MSE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Pruned Regression Tree</td>
<td align="right">6.978559</td>
</tr>
<tr class="even">
<td align="left">Bagging</td>
<td align="right">3.682146</td>
</tr>
<tr class="odd">
<td align="left">Random Forest</td>
<td align="right">3.420492</td>
</tr>
<tr class="even">
<td align="left">Gradient Boosting</td>
<td align="right">6.890100</td>
</tr>
<tr class="odd">
<td align="left">Extreme Gradient Boosting</td>
<td align="right">3.557269</td>
</tr>
</tbody>
</table>
<p>According to the MSE table, we can see that Extreme Gradient Boosting model has the smallest test MSE, which is 3.345888. Pruned Regression Tree has the largest MSE 6.978559, indicating a worse fit. Low test MSE shows high performance and low over-fitting. Hence, we may pick extreme gradient boosting model as our final model to predict life expectancy. <br></p>
<p><br> <br> <br></p>
</div>
</div>
<div id="conclusion-and-summary-1" class="section level1">
<h1>Conclusion and Summary</h1>
<p><br></p>
<div id="answering-research-question" class="section level2">
<h2>Answering research question</h2>
<ol style="list-style-type: decimal">
<li>Is government health expenditure have greater impact on life expectancy than Human Development Index?</li>
</ol>
<p>According to the data exploratory plots we have, the relationship between health expenditure and life expectancy is not strong. The models that only contains total expenditure and status highest AIC, which means they fitted badly. However, in most of our plots, the relationship between HDI and life expectancy is strong. We also have pretty well fitted models with HDI as predictor have adjusted R squared over 0.79. Furthermore, in our variable importance plots in machine learning models, HDI is the one of the most important features across all models. Hence, we concluded that HDI have greater impact on life expectancy than the other.</p>
<ol start="2" style="list-style-type: decimal">
<li>Does life expectancy also depends on the development status of the country?</li>
</ol>
<p>Though including it did improve model performance, adding development status into our model does not have any significant effect according to the model comparison results.</p>
<ol start="3" style="list-style-type: decimal">
<li>How to accurately predict life expectancy by social factors?</li>
</ol>
<p>Predicting life expectancy by extreme gradient boosting model had the best performance. Variable ‘HIV_AIDS’, ‘income_com’, ‘adult_mo’, and ‘schooling’ are the most important features to predict life expectancy.</p>
<p><br></p>
<p><br></p>
</div>
<div id="discussion-and-limitation" class="section level2">
<h2>Discussion and limitation</h2>
<p>According to the result we have, if the governments aim to increase life expectancy of the population, they should focus on factors that will increase the HDI. Not just spending too much money health development. In may cases, better health treatment and medical technologies does not benefit everyone. For most of the population, even poorer people, their health conditions need much longer time to respond to larger health expenditure than richer people. Additionally, people who would like to search for some counties to stay and try to live longer could choose countries with high HDI, rather than high health expenditure. For government or social organizations that would like to predict local life expectancy, they need to focus on HIV infection records, local HDI, adult mortality, and number of years of schooling. Their values are statistically significant on predicting life expectancy. Fitting a extreme gradient boosting model would yield more accurate values a based on our research result.</p>
<p>Limitations:</p>
<ol style="list-style-type: decimal">
<li><p>Since we impute NAs by mean value, we may result in biased standard error, variance, and sample mean. Our estimate may be pulled by other observations.</p></li>
<li><p>Since we have 16 years of observations per country and we investigate the data-set as a whole, our observations are not totally independent. Also, we ignored the structural difference between countries, like race and climate.</p></li>
<li><p>Though in model comparison, some spline models have better performance than the linear model, picking a spline model also increase our risk on over-fitting.</p></li>
<li><p>We only fitted spline models with 3 knots. We should also vary it to compare spline models with different knot numbers.</p></li>
<li><p>In many of our machine learning models, we can see there are only a few variables that dominate our model, which means, in further study, we could reduce the model complexity but also have similar performance.</p></li>
</ol>
<p><br></p>
<p><br></p>
</div>
</div>

<p>Copyright &copy; 2022, Shiyuan(Eric) Zhou.</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
